<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Офисные здания на ул. Комсомольская — Shanin Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* --- 1. БАЗА --- */
        html, body {
            margin: 0; padding: 0;
            background-color: #111;
            font-family: 'Manrope', sans-serif;
            color: white;
            height: 100%;
            overflow: hidden; 
        }

        /* --- 2. ФОН --- */
        .background-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;
        }
        .bg-image {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover; z-index: 1; opacity: 1;
        }

        /* --- 3. ЛЕВАЯ ПАНЕЛЬ --- */
        .glass-sidebar {
            position: absolute; top: 0; left: 0; width: 45%; height: 100%; z-index: 10;
            background: rgba(0, 0, 0, 0.4); 
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            padding: 60px; box-sizing: border-box;
            display: flex; flex-direction: column; overflow-y: auto; 
        }
        .glass-sidebar::-webkit-scrollbar { width: 6px; }
        .glass-sidebar::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1); }
        .glass-sidebar::-webkit-scrollbar-thumb { background-color: #FF5E00; border-radius: 4px; }

        /* Элементы панели */
        .back-btn {
            position: absolute; top: 40px; right: 40px; z-index: 20;
            display: flex; align-items: center; justify-content: center; gap: 12px; 
            padding: 12px 28px; border-radius: 50px;
            text-decoration: none; color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255,255,255,0.3); background: rgba(0,0,0,0.2);
            transition: 0.3s all ease; cursor: pointer;
        }
        .back-text { font-size: 0.85rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; }
        .back-icon { font-size: 1.2rem; line-height: 1; position: relative; top: -1px; }
        .back-btn:hover { background: #FF5E00; border-color: #FF5E00; color: white; }

        .logo { text-decoration: none; color: white; display: block; margin-bottom: 60px; margin-top: 10px; }
        .logo-main { font-size: 3.5rem; font-weight: 800; line-height: 0.8; text-transform: uppercase; margin-left: -3px; }
        .logo span { display: block; font-size: 1rem; font-weight: 400; letter-spacing: 16px; margin-top: 10px; margin-left: 4px; color: rgba(255,255,255,0.65); }

        .date { font-size: 0.9rem; color: rgba(255,255,255,0.6); margin-bottom: 20px; letter-spacing: 1px; }
        h1 { font-size: 2.5rem; font-weight: 600; line-height: 1.1; margin: 0 0 20px 0; text-transform: uppercase; }
        .subtitle { font-size: 1.1rem; color: rgba(255,255,255,0.8); margin-bottom: 40px; }
        .list-block { margin-bottom: 50px; font-size: 0.95rem; line-height: 1.8; color: rgba(255,255,255,0.9); }
        .slogan { font-size: 1rem; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 20px; color: #FF5E00; }
        .description { font-size: 0.95rem; line-height: 1.6; color: rgba(255,255,255,0.8); margin-bottom: 60px; max-width: 95%; }

        .buttons-row { display: flex; gap: 15px; margin-top: auto; padding-bottom: 20px; }
        .action-btn {
            padding: 12px 35px; border-radius: 50px;
            text-decoration: none; font-size: 0.9rem; font-weight: 600; text-transform: uppercase;
            transition: 0.3s; cursor: pointer;
            border: 1px solid rgba(255,255,255,0.3); background: rgba(0,0,0,0.3); color: white;
        }
        .action-btn:hover { background: #FF5E00; color: white; border-color: #FF5E00; }


        /* --- 4. ГАЛЕРЕЯ (MODAL) --- */
        .gallery-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.98); z-index: 3000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.5s ease;
        }
        .gallery-modal.active { opacity: 1; pointer-events: auto; }

        /* Кнопка Закрыть (ПРАВЫЙ ВЕРХНИЙ) */
        .gallery-close {
            position: absolute; top: 40px; right: 40px;
            width: 50px; height: 50px; border-radius: 50%;
            background: rgba(255,255,255,0.1); backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            color: white; font-size: 1.5rem; display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.3s; 
            z-index: 3010;
        }
        .gallery-close:hover { background: #FF5E00; border-color: #FF5E00; transform: rotate(90deg); }


        /* --- ОБЛАСТЬ ПРОСМОТРА --- */
        .gallery-viewport {
            width: 85%; height: 80%; 
            position: relative;
            display: flex; align-items: center; justify-content: center;
            z-index: 3001;
        }

        .image-stack {
            position: relative; width: 80%; height: 80%;
            display: flex; justify-content: center; align-items: center;
        }

        .gallery-image {
            position: absolute; max-width: 100%; max-height: 100%;
            object-fit: contain; border-radius: 4px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.6);
            opacity: 0;
            transition: opacity 0.6s ease, transform 0.6s cubic-bezier(0.25, 1, 0.5, 1), filter 0.6s ease;
            z-index: 1; will-change: transform, opacity;
        }

        .gallery-image.visible {
            opacity: 1; z-index: 10; transform: translate(0, 0) scale(1); filter: blur(0);
        }

        /* Стрелки */
        .nav-arrow {
            position: absolute; top: 50%; transform: translateY(-50%);
            width: 60px; height: 60px; border-radius: 50%;
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(5px);
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: all 0.3s; 
            z-index: 4000;
            color: white;
        }
        .nav-arrow:hover { background: #FF5E00; border-color: #FF5E00; transform: translateY(-50%) scale(1.1); }
        .nav-arrow svg { width: 32px; height: 32px; stroke-width: 2; }
        .nav-arrow.prev { left: 40px; }
        .nav-arrow.next { right: 40px; }

        /* Анимации для перехода */
        .gallery-image.slide-left {
            transform: translateX(-100px) scale(0.9);
            opacity: 0;
            filter: blur(5px);
        }
        
        .gallery-image.slide-right {
            transform: translateX(100px) scale(0.9);
            opacity: 0;
            filter: blur(5px);
        }

        .loader {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid #FF5E00;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }


        /* --- АДАПТАЦИЯ ДЛЯ СОВРЕМЕННЫХ МОБИЛЬНЫХ УСТРОЙСТВ --- */

        /* Для всех мобильных устройств */
        @media (max-width: 932px) {
            /* 1. ПАНЕЛЬ */
            .glass-sidebar { 
                width: 100%; 
                padding: 40px 20px; 
                backdrop-filter: blur(15px);
            }
            
            /* 2. Общие стили для мобильных */
            .gallery-viewport { 
                width: 95%; 
                height: 70vh;
            }
            
            /* 3. Стрелки (уменьшаем размер и отступы) */
            .nav-arrow {
                width: 45px;
                height: 45px;
                background: rgba(0,0,0,0.7);
                border: 1px solid rgba(255,255,255,0.2);
                backdrop-filter: blur(10px);
            }
            
            .nav-arrow.prev { left: 15px; }
            .nav-arrow.next { right: 15px; }
            
            /* 4. Кнопка закрытия (уменьшаем размер) */
            .gallery-close {
                width: 45px;
                height: 45px;
                top: 25px;
                right: 20px;
                z-index: 4010;
            }
        }

        /* --- ВЕРТИКАЛЬНАЯ ОРИЕНТАЦИЯ (PORTRAIT) 430x932 для iPhone 14 Pro Max --- */
        @media (max-width: 932px) and (orientation: portrait) {
            /* Область просмотра */
            .gallery-viewport {
                height: 65vh;
                margin-top: 80px;
            }
            
            /* Адаптация для очень высоких экранов */
            @media (min-height: 800px) {
                .gallery-viewport {
                    height: 70vh;
                    margin-top: 90px;
                }
            }
        }

        /* --- ГОРИЗОНТАЛЬНАЯ ОРИЕНТАЦИИ --- */
        @media (max-width: 932px) and (orientation: landscape) {
            /* 1. Кнопка закрытия галереи (правее) */
            .gallery-close {
                top: 20px;
                right: 20px;
                width: 40px;
                height: 40px;
            }
            
            /* 2. Стрелки (ближе к краям, но не заезжают на изображение) */
            .nav-arrow {
                width: 40px;
                height: 40px;
            }
            
            .nav-arrow.prev { 
                left: 10px;
                right: auto;
            }
            
            .nav-arrow.next { 
                right: 10px;
                left: auto;
            }
            
            /* 3. Область просмотра с учётом кнопок */
            .gallery-viewport {
                height: 75vh;
                margin-top: 60px;
                margin-left: 0;
                margin-right: 0;
                width: 92%;
            }
            
            /* 4. Левая панель в горизонтальной ориентации - уже */
            .glass-sidebar {
                width: 45%;
                padding: 25px;
                backdrop-filter: blur(20px);
            }
            
            /* 5. Уменьшаем шрифты для экономии места */
            .logo-main { font-size: 2.5rem; }
            h1 { font-size: 2rem; line-height: 1.1; }
            .subtitle { font-size: 0.9rem; }
            .description { 
                font-size: 0.8rem; 
                line-height: 1.5;
                margin-bottom: 40px;
            }
            .back-btn { 
                padding: 10px 20px; 
                top: 25px;
                right: 25px;
            }
            .action-btn { 
                padding: 10px 20px; 
                font-size: 0.8rem;
            }
            
            /* 6. Убедимся, что изображение не заезжает под кнопки */
            .image-stack {
                width: 85%;
                height: 85%;
                margin: 0 auto;
            }
        }

        /* --- АДАПТАЦИЯ ДЛЯ ОЧЕНЬ МАЛЕНЬКИХ ЭКРАНОВ --- */
        @media (max-width: 932px) and (max-height: 450px) {
            .gallery-close {
                width: 35px;
                height: 35px;
                top: 15px;
                right: 15px;
                font-size: 1.2rem;
            }
            
            .nav-arrow {
                width: 35px;
                height: 35px;
            }
            
            .nav-arrow.prev { left: 8px; }
            .nav-arrow.next { right: 8px; }
            
            .gallery-viewport {
                height: calc(100vh - 90px);
                margin-top: 70px;
            }
        }

    </style>
</head>
<body>

    <!-- 1. ФОН (ТОЛЬКО ИЗОБРАЖЕНИЕ, БЕЗ ВИДЕО) -->
    <div class="background-container">
        <img src="projects/19/fon.jpg" class="bg-image" id="preloaderImg" alt="Офисные здания на ул. Комсомольская">
    </div>

    <!-- 2. ЛЕВАЯ ПАНЕЛЬ -->
    <div class="glass-sidebar" id="sidebar">
        
        <a href="javascript:history.back()" class="back-btn">
            <span class="back-icon">←</span> <span class="back-text">НАЗАД</span>
        </a>

        <a href="index.html" class="logo">
            <div class="logo-main">SHANIN</div><span>STUDIO</span>
        </a>

        <div class="content">
            <div class="date">21.04.2025</div>
            <h1>Визуализация офисных зданий на ул. Комсомольская в г.Уфа</h1>
            <div class="subtitle">Создание концепции и визуализация</div>
            <div class="list-block">В рамках проекта реализовано:<ul>
                <li>Фотореалистичное отображение каждого элемента архитектуры</li>
                <li>Точное воспроизведение городской среды и окружения</li>
                <li>Детальная проработка фасадов и внутренних пространств</li>
                <li>Современные технологии 3D-моделирования</li>
                <li>Реалистичная передача материалов и текстур</li>
            </ul></div>
            <div class="slogan">ПРЕСТИЖНЫЙ ДЕЛОВОЙ РАЙОН ГОРОДА С РАЗВИТОЙ ИНФРАСТРУКТУРОЙ</div>
            <div class="description">Представляем уникальную коллекцию 3D-визуализаций современных офисных зданий, расположенных на одной из ключевых улиц Уфы — улице Комсомольская. Мы создали впечатляющие рендеры, которые демонстрируют архитектурную привлекательность и функциональность будущих бизнес-центров.</div>
            <div class="buttons-row">
                <!-- ТОЛЬКО КНОПКА ГАЛЕРЕИ, БЕЗ ВИДЕО -->
                <div class="action-btn" id="openGalleryBtn">Галерея</div>
            </div>
        </div>
    </div>

    <!-- 3. ГАЛЕРЕЯ (БЕЗ ПЕРЕКЛЮЧАТЕЛЕЙ ВРЕМЕНИ/СЕЗОНА) -->
    <div id="galleryModal" class="gallery-modal">
        <div class="gallery-close" id="galleryClose">✕</div>
        
        <!-- БЛОК ПЕРЕКЛЮЧАТЕЛЕЙ УБРАН -->

        <div class="gallery-viewport">
            <div class="nav-arrow prev" id="prevBtn"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></div>
            
            <div class="image-stack">
                <img src="" alt="" class="gallery-image" id="imgA">
                <img src="" alt="" class="gallery-image" id="imgB">
            </div>
            
            <div class="loader" id="galleryLoader"></div>
            <div class="nav-arrow next" id="nextBtn"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></div>
        </div>
    </div>

    <!-- СКРИПТ -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // === ВАЖНО: КОЛИЧЕСТВО КАРТИНОК В ПАПКЕ ===
            const TOTAL_IMAGES = 12; // Измените на актуальное количество для этого проекта
            // ==========================================

            const galleryModal = document.getElementById('galleryModal');
            const imgA = document.getElementById('imgA');
            const imgB = document.getElementById('imgB');
            let activeImgElement = imgA; 
            let hiddenImgElement = imgB; 

            const galleryLoader = document.getElementById('galleryLoader');
            
            const btnOpen = document.getElementById('openGalleryBtn');
            const btnClose = document.getElementById('galleryClose');
            
            let currentImgIndex = 1;
            
            let isAnimating = false;

            function switchImage(targetIndex, animationType) {
                if (isAnimating) return;
                isAnimating = true;

                // ПУТЬ БЕЗ ПАПОК ВРЕМЕНИ/СЕЗОНА
                const path = `projects/19/img/${targetIndex}.jpg`;
                
                galleryLoader.style.display = 'block';
                hiddenImgElement.src = path;
                
                hiddenImgElement.onload = () => {
                    galleryLoader.style.display = 'none';
                    activeImgElement.className = 'gallery-image visible'; 
                    hiddenImgElement.className = 'gallery-image'; 

                    if (animationType === 'slide-next') {
                        hiddenImgElement.style.transform = 'translateX(100px)';
                        hiddenImgElement.style.opacity = '0';
                        void hiddenImgElement.offsetWidth;
                        activeImgElement.classList.add('slide-left');
                        hiddenImgElement.classList.add('visible'); 
                        hiddenImgElement.style.transform = ''; 
                        hiddenImgElement.style.opacity = '';
                    } 
                    else if (animationType === 'slide-prev') {
                        hiddenImgElement.style.transform = 'translateX(-100px)';
                        hiddenImgElement.style.opacity = '0';
                        void hiddenImgElement.offsetWidth;
                        activeImgElement.classList.add('slide-right');
                        hiddenImgElement.classList.add('visible');
                        hiddenImgElement.style.transform = ''; 
                        hiddenImgElement.style.opacity = '';
                    }

                    setTimeout(() => {
                        activeImgElement.className = 'gallery-image'; 
                        activeImgElement.style.transform = '';
                        activeImgElement.style.opacity = '';
                        activeImgElement.style.filter = '';
                        hiddenImgElement.className = 'gallery-image visible'; 
                        let temp = activeImgElement;
                        activeImgElement = hiddenImgElement;
                        hiddenImgElement = temp;
                        currentImgIndex = targetIndex;
                        isAnimating = false;
                    }, 600); 
                };

                hiddenImgElement.onerror = () => {
                    galleryLoader.style.display = 'none';
                    isAnimating = false;
                };
            }

            // ОТКРЫТИЕ ГАЛЕРЕИ
            btnOpen.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Открываем галерею
                galleryModal.classList.add('active');
                const path = `projects/19/img/${currentImgIndex}.jpg`;
                activeImgElement.src = path;
                activeImgElement.className = 'gallery-image visible';
                hiddenImgElement.className = 'gallery-image';
            });
            
            // ЗАКРЫТИЕ ГАЛЕРЕИ
            btnClose.addEventListener('click', () => {
                galleryModal.classList.remove('active');
            });

            // НАВИГАЦИЯ ПО ГАЛЕРЕЕ
            document.getElementById('nextBtn').addEventListener('click', () => {
                let nextIndex = currentImgIndex + 1;
                if (nextIndex > TOTAL_IMAGES) nextIndex = 1; 
                switchImage(nextIndex, 'slide-next');
            });

            document.getElementById('prevBtn').addEventListener('click', () => {
                let prevIndex = currentImgIndex - 1;
                if (prevIndex < 1) prevIndex = TOTAL_IMAGES; 
                switchImage(prevIndex, 'slide-prev');
            });

            // Закрытие галереи по клику на фон
            galleryModal.addEventListener('click', (e) => {
                if (e.target === galleryModal) {
                    galleryModal.classList.remove('active');
                }
            });

            // Управление с клавиатуры
            document.addEventListener('keydown', (e) => {
                // Если открыта галерея
                if (galleryModal.classList.contains('active')) {
                    switch(e.key) {
                        case 'Escape':
                            galleryModal.classList.remove('active');
                            break;
                        case 'ArrowLeft':
                            document.getElementById('prevBtn').click();
                            break;
                        case 'ArrowRight':
                            document.getElementById('nextBtn').click();
                            break;
                    }
                }
            });
        });
    </script>

</body>
</html>